local T = require("testing.testing")(describe, it)

T.Scenario(function(api)
  -- Load necessary plugins
  api:getPluginInstance(require('neodap.plugins.LaunchJsonSupport'))
  api:getPluginInstance(require('neodap.plugins.BreakpointApi'))
  api:getPluginInstance(require('neodap.plugins.ToggleBreakpoint'))
  api:getPluginInstance(require('neodap.plugins.Variables4'))

  -- Set up initial state and launch session
  T.cmd("edit lua/testing/fixtures/variables/complex.js")
  T.cmd("normal! 6j") -- Move to line with variables
  T.cmd("NeodapToggleBreakpoint")
  T.cmd("NeodapLaunchClosest Variables")
  T.sleep(1500) -- Wait for session and breakpoint hit

  -- Open the variables tree popup
  T.cmd("Variables4Tree")
  T.sleep(300)
  T.TerminalSnapshot('simplified_initial_tree_with_utf8_indicators')

  -- Test 1: Beautiful UTF-8 Indent Indicators
  -- Expand nodes to see the beautiful indent indicators
  T.cmd("normal! l") -- Expand Local scope
  T.sleep(500)
  T.TerminalSnapshot('simplified_utf8_level_1_indicators')

  T.cmd("normal! l") -- Drill into first variable
  T.sleep(300)
  T.TerminalSnapshot('simplified_utf8_level_2_indicators')

  T.cmd("normal! l") -- Drill deeper to show more levels
  T.sleep(300)
  T.TerminalSnapshot('simplified_utf8_level_3_indicators')

  -- Test 2: Simplified Focus Mode - First F
  -- Test the simplified focus behavior
  T.cmd("normal! f") -- First f: should focus on parent of current node
  T.sleep(200)
  T.TerminalSnapshot('simplified_focus_first_f_parent_focus')

  -- Test 3: Simplified Focus Mode - Second F  
  -- Test focusing on parent of focused node
  T.cmd("normal! f") -- Second f: should focus on parent of focused node
  T.sleep(200)
  T.TerminalSnapshot('simplified_focus_second_f_grandparent_focus')

  -- Test 4: Simplified Focus Mode - No-op F Returns to Root
  -- Test that when f would be no-op, it returns to root
  T.cmd("normal! f") -- No-op f: should return to root view
  T.sleep(200)
  T.TerminalSnapshot('simplified_focus_noop_f_returns_to_root')

  -- Test 5: No Automatic Focus Changes During Navigation
  -- Test that navigation doesn't automatically change focus
  T.cmd("normal! l") -- Expand scope
  T.sleep(300)
  T.cmd("normal! l") -- Drill down
  T.sleep(300)
  T.cmd("normal! f") -- Enable focus
  T.sleep(200)
  T.TerminalSnapshot('simplified_manual_focus_enabled')

  -- Navigate with l/h and verify focus stays manual
  T.cmd("normal! l") -- Drill down - should NOT auto-change focus
  T.sleep(300)
  T.TerminalSnapshot('simplified_navigation_no_auto_focus_change')

  T.cmd("normal! h") -- Jump up - should NOT auto-change focus
  T.sleep(200)
  T.TerminalSnapshot('simplified_jump_up_no_auto_focus_change')

  -- Test 6: UTF-8 Indicators in Focus Mode
  -- Test that UTF-8 indicators work correctly in focus mode
  T.cmd("normal! l") -- Drill down in focus mode
  T.sleep(300)
  T.TerminalSnapshot('simplified_utf8_indicators_in_focus_mode')

  -- Test 7: Focus Mode with Multiple Levels
  -- Build a deep hierarchy and test focus at different levels
  T.cmd("normal! f") -- Exit focus mode
  T.sleep(200)
  T.cmd("normal! l") -- Build deep hierarchy
  T.sleep(300)
  T.cmd("normal! l")
  T.sleep(300)
  T.cmd("normal! l")
  T.sleep(300)
  T.TerminalSnapshot('simplified_deep_hierarchy_for_focus_test')

  -- Test focus from deep level
  T.cmd("normal! f") -- Focus on parent
  T.sleep(200)
  T.TerminalSnapshot('simplified_focus_from_deep_level')

  T.cmd("normal! f") -- Focus on grandparent
  T.sleep(200)
  T.TerminalSnapshot('simplified_focus_grandparent_level')

  T.cmd("normal! f") -- Focus on great-grandparent
  T.sleep(200)
  T.TerminalSnapshot('simplified_focus_great_grandparent_level')

  T.cmd("normal! f") -- Return to root (no-op case)
  T.sleep(200)
  T.TerminalSnapshot('simplified_focus_return_to_root_from_deep')

  -- Test 8: Cross-Scope Focus Behavior
  -- Test focus behavior across different scopes
  T.cmd("normal! j") -- Move to Global scope
  T.cmd("normal! l") -- Expand Global scope
  T.sleep(500)
  T.cmd("normal! l") -- Drill into global variable
  T.sleep(300)
  T.TerminalSnapshot('simplified_global_scope_setup')

  -- Test focus in global scope
  T.cmd("normal! f") -- Focus on parent in global scope
  T.sleep(200)
  T.TerminalSnapshot('simplified_focus_in_global_scope')

  T.cmd("normal! f") -- Focus on global scope itself
  T.sleep(200)
  T.TerminalSnapshot('simplified_focus_on_global_scope')

  T.cmd("normal! f") -- Return to root from global
  T.sleep(200)
  T.TerminalSnapshot('simplified_focus_return_from_global')

  -- Test 9: UTF-8 Indicators Consistency
  -- Test that indicators remain consistent across operations
  T.cmd("normal! l") -- Expand Local
  T.sleep(300)
  T.cmd("normal! j") -- Navigate to Global
  T.cmd("normal! l") -- Expand Global
  T.sleep(300)
  T.TerminalSnapshot('simplified_utf8_indicators_both_scopes_expanded')

  -- Test focus with both scopes expanded
  T.cmd("normal! l") -- Drill into global variable
  T.sleep(300)
  T.cmd("normal! f") -- Focus
  T.sleep(200)
  T.TerminalSnapshot('simplified_utf8_in_focus_with_both_scopes')

  -- Test 10: Help Text Verification
  -- Verify the updated help text shows simplified features
  T.cmd("normal! ?")
  T.TerminalSnapshot('simplified_updated_help_text')

  -- Test 11: Simplified Round-trip Navigation
  -- Test that the simplified system provides smooth round-trip navigation
  T.cmd("normal! f") -- Exit focus if active
  T.sleep(200)
  T.cmd("normal! l") -- Drill down
  T.sleep(300)
  T.cmd("normal! l") -- Drill deeper
  T.sleep(300)
  T.cmd("normal! f") -- Focus
  T.sleep(200)
  T.cmd("normal! h") -- Jump up (no auto-focus change)
  T.sleep(200)
  T.cmd("normal! f") -- Manual focus change
  T.sleep(200)
  T.cmd("normal! l") -- Drill down
  T.sleep(300)
  T.TerminalSnapshot('simplified_round_trip_navigation_complete')

  -- Close popup
  T.cmd("normal! q")
  T.TerminalSnapshot('simplified_features_test_complete')
end)

--[[ TERMINAL SNAPSHOT: simplified_initial_tree_with_utf8_indicators
Size: 24x80
Cursor: [1, 0] (line 1, col 0)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               1,1           All
]]

--[[ TERMINAL SNAPSHOT: simplified_utf8_level_1_indicators
Size: 24x80
Cursor: [1, 3] (line 1, col 3)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               1,4-2         All
]]

--[[ TERMINAL SNAPSHOT: simplified_utf8_level_2_indicators
Size: 24x80
Cursor: [1, 4] (line 1, col 4)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               1,5-3         All
]]

--[[ TERMINAL SNAPSHOT: simplified_utf8_level_3_indicators
Size: 24x80
Cursor: [1, 8] (line 1, col 8)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               1,9-5         All
]]

--[[ TERMINAL SNAPSHOT: simplified_focus_first_f_parent_focus
Size: 24x80
Cursor: [1, 8] (line 1, col 8)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               1,9-5         All
]]

--[[ TERMINAL SNAPSHOT: simplified_focus_second_f_grandparent_focus
Size: 24x80
Cursor: [1, 8] (line 1, col 8)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               1,9-5         All
]]

--[[ TERMINAL SNAPSHOT: simplified_focus_noop_f_returns_to_root
Size: 24x80
Cursor: [1, 8] (line 1, col 8)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               1,9-5         All
]]

--[[ TERMINAL SNAPSHOT: simplified_manual_focus_enabled
Size: 24x80
Cursor: [1, 10] (line 1, col 10)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               1,11-7        All
]]

--[[ TERMINAL SNAPSHOT: simplified_navigation_no_auto_focus_change
Size: 24x80
Cursor: [1, 11] (line 1, col 11)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               1,12-8        All
]]

--[[ TERMINAL SNAPSHOT: simplified_jump_up_no_auto_focus_change
Size: 24x80
Cursor: [1, 10] (line 1, col 10)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               1,11-7        All
]]

--[[ TERMINAL SNAPSHOT: simplified_utf8_indicators_in_focus_mode
Size: 24x80
Cursor: [1, 11] (line 1, col 11)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               1,12-8        All
]]

--[[ TERMINAL SNAPSHOT: simplified_deep_hierarchy_for_focus_test
Size: 24x80
Cursor: [1, 14] (line 1, col 14)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               1,15-11       All
]]

--[[ TERMINAL SNAPSHOT: simplified_focus_from_deep_level
Size: 24x80
Cursor: [1, 14] (line 1, col 14)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               1,15-11       All
]]

--[[ TERMINAL SNAPSHOT: simplified_focus_grandparent_level
Size: 24x80
Cursor: [1, 14] (line 1, col 14)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               1,15-11       All
]]

--[[ TERMINAL SNAPSHOT: simplified_focus_great_grandparent_level
Size: 24x80
Cursor: [1, 14] (line 1, col 14)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               1,15-11       All
]]

--[[ TERMINAL SNAPSHOT: simplified_focus_return_to_root_from_deep
Size: 24x80
Cursor: [1, 14] (line 1, col 14)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               1,15-11       All
]]

--[[ TERMINAL SNAPSHOT: simplified_global_scope_setup
Size: 24x80
Cursor: [2, 14] (line 2, col 14)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               2,15-11       All
]]

--[[ TERMINAL SNAPSHOT: simplified_focus_in_global_scope
Size: 24x80
Cursor: [2, 14] (line 2, col 14)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               2,15-11       All
]]

--[[ TERMINAL SNAPSHOT: simplified_focus_on_global_scope
Size: 24x80
Cursor: [2, 14] (line 2, col 14)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               2,15-11       All
]]

--[[ TERMINAL SNAPSHOT: simplified_focus_return_from_global
Size: 24x80
Cursor: [2, 14] (line 2, col 14)
Mode: n

 1| // Test fixture for Variables plugin - various variable types
 2| 
 3| functio╭──────────────────── Variables4 Debug Tree ─────────────────────╮
 4|     // │▶ 📁  Local: testVariables                                       │
 5|     let│▶ 📁  Global                                                     │
 6|     let│                                                                │
 7|     let│                                                                │
 8|     let│                                                                │
 9|     let│                                                                │
10|     let│                                                                │lue";
11|     let│                                                                │e trunc
12| ated wh│                                                                │
13|        │                                                                │
14|     // │                                                                │
15|     let│                                                                │
16|     let│                                                                │
17|        │                                                                │
18|        │                                                                │
19|        ╰────────────────────────────────────────────────────────────────╯
20|             level: 2,
21|             data: ["a", "b", "c"]
22|         },
23| lua/testing/fixtures/variables/complex.js                     7,1            Top
24|                                                               2,15-11       All
]]